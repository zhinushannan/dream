---
title: 关系型数据库与非关系型数据库
urlname: 20220723
date: 2022-07-23 08:29:07
tags: [其他, RDBMS, NoSQL]
categories: [其他]
keywords: [RDBMS, NoSQL]
top_img: https://dream.kwcoder.cn/202208/202207230829390.png
cover: https://dream.kwcoder.cn/202208/202207230829390.png
---





# 数据库的发展

数据库是在数据管理发展到一定阶段的产物，数据库具有有组织、可共享、统一管理等诸多优点。

早起数据库的发展主要集中在基于行式存储的关系型数据库，然而随着互联网的发展，各种半结构化数据需要进行存储和管理，同时还有缓存存储等需求，于是非关系型数据库应运而生。

# 对比

- 存储方式：RDBMS通常存储在磁盘中，NoSQL通常存储在内存中（也可以持久化）
- 存储结构：RDBMS通常使用行式存储，NoSQL通常使用键值对存储
- 存储规划：RDBMS需要实现定义表结构，NoSQL不需要提前定义
- 数据严谨性：RDBMS高度组织化、结构化，NoSQL稀疏化
- 查询语言：RDBMS使用结构化查询语言，NoSQL没有明确的查询语言，通过键值对找到数据
- CAP定理：RDBMS通常不可容忍数据的丢失，而NoSQL通常

# ACID

关系型数据库严格遵守事务的ACID。

- A (Atomicity) 原子性：事务里的所有操作要么全部做完，要么都不做，事务成功的条件是事务里的所有操作都成功，只要有一个操作失败，整个事务就失败，需要回滚。 
- C (Consistency) 一致性：数据库要一直处于一致的状态，事务的运行不会改变数据库原本的一致性约束。
- I (Isolation) 独立性：所谓的独立性是指并发的事务之间不会互相影响，如果一个事务要访问的数据正在被另外一个事务修改，只要另外一个事务未提交，它所访问的数据就不受未提交事务的影响。
- D (Durability) 持久性：持久性是指一旦事务提交后，它所做的修改将会永久的保存在数据库上，即使出现宕机也不会丢失。


# CAP

在计算机科学中, CAP定理指的是对于一个分布式计算系统来说，不可能同时满足以下三点:
- 一致性(Consistency)：所有节点在同一时间具有相同的数据
- 可用性(Availability)：保证每个请求不管成功或者失败都有响应
- 分隔容忍(Partition tolerance)：系统中任意信息的丢失或失败不会影响系统的继续运作
- CAP理论的核心是：一个分布式系统不可能同时很好的满足一致性，可用性和分区容错性这三个需求，最多只能同时较好的满足两个

根据 CAP 原理将 NoSQL 数据库分成了满足 CA 原则、满足 CP 原则和满足 AP 原则三 大类：

CA - 单点集群，满足一致性，可用性的系统，通常在可扩展性上不太强大。在计算机科学中, CAP定理（CAP theorem）, 又被称作 布鲁尔定理（Brewer's theorem）, 它指出对于一个分布式计算系统来说，不可能同时满足以下三点:

一致性(Consistency) (所有节点在同一时间具有相同的数据)
可用性(Availability) (保证每个请求不管成功或者失败都有响应)
分隔容忍(Partition tolerance) (系统中任意信息的丢失或失败不会影响系统的继续运作)
CAP理论的核心是：一个分布式系统不可能同时很好的满足一致性，可用性和分区容错性这三个需求，最多只能同时较好的满足两个。

因此，根据 CAP 原理将 NoSQL 数据库分成了满足 CA 原则、满足 CP 原则和满足 AP 原则三 大类：

CA - 单点集群，满足一致性，可用性的系统，通常在可扩展性上不太强大。
CP - 满足一致性，分区容忍性的系统，通常性能不是特别高。
AP - 满足可用性，分区容忍性的系统，通常可能对一致性要求低一些。
CP - 满足一致性，分区容忍性的系统，通常性能不是特别高。
AP - 满足可用性，分区容忍性的系统，通常可能对一致性要求低一些。

# 常见的NoSQL分类

| 类型 | 部分代表 | 特点 |
| :--: | :--: | :--: |
| 列存储 | HBase | 方便存储结构化和半结构化数据，方便数据压缩，对列的查询具有非常大的IO优势 |
| 文档存储 | MongoDB | 采用累屎JSON格式存储，存储的内容是文档型的，可以对某些字段建立索引，实现关系数据库的某些功能 |
| KV存储 | Redis | 可以通过key快速查到value，而且不限制value的格式 |

# NoSQl的优缺点

优点：
- 高可扩展性
- 分布式计算
- 低成本
- 架构灵活
- 没有复杂的关系

缺点：
- 没有标准化
- 有限的查询功能
