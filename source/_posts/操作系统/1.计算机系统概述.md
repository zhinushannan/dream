---
title: 计算机系统概述
urlname: 20220512
date: 2022-05-12 08:29:07
tags: [操作系统]
categories: [操作系统]
keywords: [操作系统]
top_img: /images/操作系统/1计算机系统概述/1-1cover.png
cover: /images/操作系统/1计算机系统概述/1-1cover.png
---

操作系统下一篇：<a href="/p/20220513/" target="_blank">操作系统概述</a>

# 计算机系统
<img src="/images/操作系统/1计算机系统概述/1-1cover.png" style="zoom: 50%">

- 计算机系统的最外层是使用计算机的人，最内层便是硬件。
- 人与计算机硬件之间的接口界面是计算机软件，计算机软件分为系统软件、支撑软件以及应用软件。
- 在计算机上配置的各种软件中，操作系统是最重要的，它将各种软、硬件资源管理并优化起来为上层应用提供接口和方便，在计算机系统中起到指挥管理作用。

# 计算机硬件
## 概述
计算机系统由一个或多个CPU和若干设备控制器通过共同的总线相互连接。该总线实现了对共享内存的访问。每个设备控制器负责一种特定类型的设备。

## 计算机硬件框架
<img src="/images/操作系统/1计算机系统概述/1-2计算机硬件框架.png" style="zoom: 50%" alt="计算机硬件框架">

从逻辑结构上讲，典型的冯·诺依曼计算机是以运算器为中心的，而现代计算机已转化为以存储器为中心

- 运算器用来完成算术运算和逻辑运算，并将运算的中间结果暂存在运算器内。 
- 存储器用来存放数据和程序。 
- 控制器用来控制、指挥程序和数据的输入、运行以及处理运算结果。 
- 输入设备用来将人们熟悉的信息形式转换为机器能识别的信息形式，常见的有键盘、鼠标、扫描仪等。 
- 输出设备可将机器运算结果转换为人们熟悉的信息系统形式，如显示器输出、打印机输出等。

### 中央处理器（CPU）
<img src="/images/操作系统/1计算机系统概述/1-3CPU.png" style="zoom: 60%" alt="CPU">

中央处理器是计算机的大脑，在很大程度上决定了一台计算机的性能。

<img src="/images/操作系统/1计算机系统概述/1-5CPU内部结构.png" style="zoom: 50%" alt="CPU内部结构">

CPU从内存中提取指令并执行它们。CPU在每个工作的基本周期中首先从内存中提取指令，之后对其解码以确定其类型和操作数，最后执行。重复该过程取指、解码并执行下一指令直至所有程序执行完毕。

<img src="/images/操作系统/1计算机系统概述/1-4指令的执行.png" style="zoom: 50%" alt="指令的执行">

### 存储器
<img src="/images/操作系统/1计算机系统概述/1-6存储器.png" style="zoom: 50%" alt="存储器">

存储器是计算机系统中的记忆设备，用来存放程序和数据。（硬盘就是常见的存储器之一。）

存储器系统采用了分层结构基于不同的处理方式来进行存储。

如图所示，从上到下价位越来越低，速度越来越慢，容量越来越大，CPU的访问频度也越来越少。

### I/O系统
<img src="/images/操作系统/1计算机系统概述/1-7IO系统.png" style="zoom: 50%" alt="IO系统">

I/O系统由I/O软件和I/O硬件两部分组成：
- I/O软件将用户编制的程序（或数据）输入主机，将运算结果输送到用户，其间最重要的任务是实现输入输出系统与主机工作的协调。
- I/O系统的硬件组成是多种多样的，在带有接口的I/O系统中，一般包括接口模块及I/O设备两大部分。

### 总线
<img src="/images/操作系统/1计算机系统概述/1-8总线.png" style="zoom: 50%" alt="总线">

总线是连接多个部件的信息传输线，是各部件共享的传输介质。可以理解为各个部件之间的通道。

## 中断
中断是指计算机运行过程中，出现某些意外情况需主机干预时，机器能自动停止正在运行的程序并转入处理新情况的程序，处理完毕后又返回原被暂停的程序继续运行。
### 中断的分类

|  类别 |说明|
|:--:| :---: |
| 程序中断 | 由指令执行的结果产生的异常或错误。 |
| 时钟中断 | 由处理机的计时器产生，允许操作系统以一定规律执行函数。 |
| I/O中断 | 由I/O控制器产生，用于通知处理机一个操作的正常完成或出现了错误。 |
| 硬件故障中断 | 硬件故障。 |

### 中断处理
<img src="/images/操作系统/1计算机系统概述/1-9中断.png" style="zoom: 50%" alt="中断">

**过程：请求中断→响应中断→关闭中断→保留断点→中断源识别→保护现场→中断服务子程序→恢复现场→中断返回**

### 中断与指令周期
<img src="/images/操作系统/1计算机系统概述/1-10中断与指令周期.png" style="zoom: 50%" alt="中断与指令周期">


## 启动计算机

计算机启动过程如下（简化）：
- BIOS运行，检查并配置设备。
- 寻找启动项，启动操作系统。
- 操作系统向BIOS获取配置信息和设备驱动程序并调入内核，同时启动必要进程。

```text
计算机启动过程如下（详细）：
- BIOS开始运行，检查RAM数量、键盘和其他设备是否安装并正常启动，接着扫描ISA和PCI总线并找出连接其上的所有设备，若现有设备不同于上次启动，则配置新设备。
- BIOS依照CMOS存储器中的设备清单决定启动何种设备。默认情况从硬盘启动。启动设备上的第一个扇区被读入内存并执行，启动时按照分区表检查程序，将活动分区的第二个启动装载模块读入操作系统并执行。
- 操作系统询问BIOS，获得配置信息，当获得全部的设备驱动程序后，操作系统将其调入内核，初始化相关表单，创建需要的进程并在每个终端上启动图形用户界面。
```

操作系统下一篇：<a href="/p/20220513/" target="_blank">操作系统概述</a>
